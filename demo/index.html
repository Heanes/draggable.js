<!DOCTYPE html>
<html lang="zh-cmn-Hans">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="renderer" content="webkit">
    <meta name="author" content="Heanes heanes.com email(heanes@163.com)">
    <meta name="keywords" content="软件,商务,HTML,tutorials,source codes">
    <meta name="description" content="描述">
    <link rel="stylesheet" href="//ui.heanes.com/dist/css/heanesUI.css"/>
    <link rel="stylesheet" href="../src/scss/drag.css"/>
    <link rel="stylesheet" href="scss/demo.css"/>
    <title>draggableView.js Demo</title>
</head>
<body>
<div class="wrap">
    <div class="demo-wrap">
        <!--<div class="something-content-demo-wrap">
            <div class="content-wrap">
                <div class="content" style="width:400px;height:400px;background-color:#999"></div>
            </div>
        </div>-->

        <div class="common-content draggable-demo-dev">
            <p>This is test text just hold the place. This is long paragraph.</p>
            <p>This is test text just hold the place. This is long paragraph.</p>
            <p>This is test text just hold the place. This is long paragraph.</p>
            <p>This is test text just hold the place. This is long paragraph.</p>
            <p>This is test text just hold the place. This is long paragraph.</p>
        </div>

        <!--<div class="common-content draggable-demo-normal">
            <p>This is test text just hold the place. This is long paragraph.</p>
            <p>This is test text just hold the place. This is long paragraph.</p>
            <p>This is test text just hold the place. This is long paragraph.</p>
            <p>This is test text just hold the place. This is long paragraph.</p>
            <p>This is test text just hold the place. This is long paragraph.</p>
        </div>-->
        <div class="demo-config">
            <form class="demo-config-form" name="demo-config-form">
                <div class="form-group">
                    <label class="config-label">可以拖动</label>
                    <select name="enableDrag">
                        <option value="1">是</option>
                        <option value="0">否</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="config-label">可以改变大小</label>
                    <select name="enableResize">
                        <option value="1">是</option>
                        <option value="0">否</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="config-label">窗体标题</label>
                    <input type="text" name="draggableViewTitle" value="拖拽一下试试"/>
                </div>
                <div class="form-handle">
                    <button class="btn btn-primary demo-config-conirm-btn">确认</button>
                </div>
            </form>
        </div>

        <!--<div class="common-content something-content-demo">
            <p>This is test text just hold the place. This is long paragraph.</p>
            <p>This is test text just hold the place. This is long paragraph.</p>
            <p>This is test text just hold the place. This is long paragraph.</p>
            <p>This is test text just hold the place. This is long paragraph.</p>
            <p>This is test text just hold the place. This is long paragraph.</p>
        </div>-->

        <!--<div class="something-content-center-demo">
            <p>This is test text just hold the place. This is long paragraph.</p>
            <p>This is test text just hold the place. This is long paragraph.</p>
            <p>This is test text just hold the place. This is long paragraph.</p>
            <p>This is test text just hold the place. This is long paragraph.</p>
            <p>This is test text just hold the place. This is long paragraph.</p>
        </div>-->
        <!--<div class="drag-wrap">
            <div class="drag-operate-wrap">
                <div class="drag-move-bar">
                    <h2 class="content-title">拖拽一下试试</h2>
                </div>
                <div class="drag-border drag-border-top-left"></div>
                <div class="drag-border drag-border-top"></div>
                <div class="drag-border drag-border-top-right"></div>
                <div class="drag-border drag-border-left"></div>
                <div class="drag-border drag-border-right"></div>
                <div class="drag-border drag-border-bottom-left"></div>
                <div class="drag-border drag-border-bottom"></div>
                <div class="drag-border drag-border-bottom-right"></div>
            </div>
            <div class="drag-content">
                <div class="something-content-demo">
                    <p>This is test text just hold the place. This is long paragraph.</p>
                    <p>This is test text just hold the place. This is long paragraph.</p>
                    <p>This is test text just hold the place. This is long paragraph.</p>
                    <p>This is test text just hold the place. This is long paragraph.</p>
                    <p>This is test text just hold the place. This is long paragraph.</p>
                </div>
            </div>
        </div>-->
    </div>
</div>
<script type="text/javascript" src="../resource/js/jquery.2.2.4.min.js"></script>
<script type="text/javascript" src="../src/js/draggableView.js"></script>
<script type="text/javascript">
    $(function () {

        $.fn.serializeObject = function() {
            let o = {};
            let a = this.serializeArray();
            $.each(a, function () {
                if (o[this.name] !== undefined) {
                    if (!o[this.name].push) {
                        o[this.name] = [o[this.name]];
                    }
                    o[this.name].push(this.value || '');
                } else {
                    o[this.name] = this.value || '';
                }
            });
            return o;
        };

        let optionDev = {
            testX: 'devTestX',
            dragDirection: 'all',                               // 可以拖动的方向，x|y|all
            enableDirectionKeyToMove: true,                     // 是否允许按方向键移动窗体，当鼠标置于拖拽移动框位置时
            directionKeyDownToMoveOffset: 5,                    // 按一次方向键移动窗体时的偏移量
            // 显示内容的外套的配置
            dragContentWrap: {
                padding:        '18px',
                bgColor:        '#ddedf1',
                borderWidth:    '10px',
                borderColor:    '#a0b3d6',
                borderStyle:    'solid'
            },
            // 拖拽移动框的配置
            dragMoveBar: {
                height:             '80px',
                padding:            '0 10px',
                bgColor:            '#258cef',
                color:              '#fff',
                borderTopWidth:     '20px',
                borderBottomWidth:  '20px',
                borderLeftWidth:    '20px',
                borderRightWidth:   '20px',
                borderStyle:        'solid',
                borderColor:        '#c9e7e4',
                fontSize:           '14px'
            },
            // resize边框的配置
            dragBorder: {
                topSize:        '60px',
                bottomSize:     '60px',
                leftSize:       '60px',
                rightSize:      '60px',
                topColor:       '#efdfed',
                bottomColor:    '#ceb455',
                leftColor:      '#cdef75',
                rightColor:     '#a7bbef',
            },
            // 整体样式
            dragWrap: {
                borderWidth:    '30px',
                borderStyle:    'solid',
                borderColor:    'rgba(248, 233, 104, 0.42)',
                boxShadow:      'rgba(130, 130, 130, 0.5) 0px 0px 4px 2px',
                borderRadius:   '8px',
            },
            showStatusBar: false,                                // 是否显示状态信息栏
            onWindowMove: function () {
                // console.log('You had move the target dev window');
            }
        };

        let $demoConfigForm = $('.demo-config-form'),
            $demoConfigConfirmBtn = $('.demo-config-conirm-btn'),
            $draggableDemoDev = $('.draggable-demo-dev');

        let optionConifg = {
            enableDirectionKeyToMove: true,                     // 是否允许按方向键移动窗体，当鼠标置于拖拽移动框位置时
            directionKeyDownToMoveOffset: 5,                    // 按一次方向键移动窗体时的偏移量
            title: '<h2 class="content-title">标题</h2>', // 拖拽窗体的标题
            // 显示内容的外套的配置
            dragContentWrap: {
                padding:        '10px',
                bgColor:        '#ddedf1',
                borderWidth:    '10px',
                borderColor:    '#a0b3d6',
                borderStyle:    'solid'
            },
            // 拖拽移动框的配置
            dragMoveBar: {
                height:             '60px',
                padding:            '0 10px',
                bgColor:            '#258cef',
                color:              '#fff',
                borderTopWidth:     '10px',
                borderBottomWidth:  '10px',
                borderLeftWidth:    '10px',
                borderRightWidth:   '10px',
                borderStyle:        'solid',
                borderColor:        '#c9e7e4',
                fontSize:           '14px'
            },
            // resize边框的配置
            dragBorder: {
                topSize:        '10px',
                bottomSize:     '10px',
                leftSize:       '10px',
                rightSize:      '10px',
                topColor:       '#efdfed',
                bottomColor:    '#ceb455',
                leftColor:      '#cdef75',
                rightColor:     '#a7bbef',
            },
            // 整体样式
            dragWrap: {
                borderWidth:    '0',
                borderStyle:    'solid',
                borderColor:    'rgba(248, 233, 104, 0.42)',
                boxShadow:      'rgba(130, 130, 130, 0.5) 0px 0px 4px 2px',
                borderRadius:   '8px',
            },
            onWindowMove: function () {
                // console.log('You had move the target normal window');
            },
            showStatusBar: false,                                // 是否显示状态信息栏
        };

        $demoConfigConfirmBtn.on('click', function(){
            let formDataObj = $demoConfigForm.serializeObject();
            let formConfig = {
                title:          formDataObj.draggableViewTitle,
                enableDrag:     !!formDataObj.enableDrag,
                enableResize:   !!formDataObj.enableResize,
                showStatusInfo: !!formDataObj.showStatusInfo,

            };
            let config = $.extend(true, {}, optionDev, formConfig);
            $draggableDemoDev.draggableView(config);
            return false;
        });

    });
</script>
</body>
</html>